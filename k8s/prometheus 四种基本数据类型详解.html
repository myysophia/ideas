<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Prometheus æŒ‡æ ‡ç±»å‹å…¨è§£æï¼šCounter, Gauge, Histogram & Summary</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/viz.js/2.1.2/viz.js" defer></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/viz.js/2.1.2/full.render.js" defer></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-okaidia.min.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Fira+Code:wght@400;500&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined" rel="stylesheet">
<style>
  :root {
    --bg-color: #111827;
    --content-bg: #1F2937;
    --text-color: #D1D5DB;
    --heading-color: #F9FAFB;
    --muted-color: #9CA3AF;
    --border-color: #374151;
    --brand-color: #818CF8;
    --code-bg: #1e293b;
    --shadow: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -2px rgba(0,0,0,0.1);
    --counter-color: #34D399;
    --gauge-color: #FBBF24;
    --histogram-color: #60A5FA;
    --summary-color: #F472B6;
  }
  html,body{margin:0; scroll-behavior:smooth;}
  body{
    font-family:"Inter",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif;
    background-color: var(--bg-color); color: var(--text-color); line-height:1.7;
  }
  .container {
    max-width: 800px; margin: 0 auto; padding: 32px;
  }
  .article-header h1 {
    font-size: 42px; color: var(--heading-color); margin: 0 0 16px; line-height: 1.2;
  }
  .article-header p { font-size: 18px; color: var(--muted-color); margin: 0 0 32px; }
  section { margin-bottom: 48px; }
  h2 {
    font-size: 28px; color: var(--heading-color); border-bottom: 1px solid var(--border-color);
    padding-bottom: 8px; margin: 40px 0 24px; display: flex; align-items: center; gap: 12px;
  }
  h2 .material-icons-outlined { font-size: 1.2em; }
  h3 { font-size: 22px; color: var(--heading-color); margin: 32px 0 16px; }
  h4 { font-size: 18px; color: var(--heading-color); margin: 24px 0 12px; border-left: 3px solid var(--border-color); padding-left: 12px;}
  p, ul li, ol li { color: var(--text-color); font-size: 16px; }
  ul, ol { padding-left: 24px; }
  strong { color: var(--brand-color); font-weight: 500;}
  code:not(pre > code) {
    background-color: var(--code-bg); color: #A78BFA;
    padding: 2px 6px; border-radius: 4px; font-family: "Fira Code", monospace; font-size: 0.9em;
  }
  .code-wrapper { position: relative; margin: 20px 0; }
  pre {
    background-color: var(--code-bg); border: 1px solid var(--border-color);
    padding: 1.5em; border-radius: 8px; overflow-x: auto;
    box-shadow: var(--shadow);
  }
  pre code { font-family: "Fira Code", monospace; }
  .copy-button {
    position: absolute; top: 12px; right: 12px;
    background-color: #4B5563; color: white; border: none;
    padding: 6px 10px; border-radius: 6px; cursor: pointer;
    font-size: 12px; opacity: 0.7; transition: opacity 0.2s, background-color 0.2s;
  }
  .code-wrapper:hover .copy-button { opacity: 1; }
  .copy-button:hover { background-color: #6B7280; }
  table {
    width: 100%; border-collapse: collapse; margin: 20px 0;
    border: 1px solid var(--border-color); border-radius: 8px; overflow: hidden;
  }
  th, td { padding: 12px 16px; border-bottom: 1px solid var(--border-color); text-align: left; }
  thead { background-color: #374151; }
  th { color: var(--heading-color); }
  tbody tr:nth-of-type(even) { background-color: rgba(255,255,255,0.02); }
  .graph-container {
    background-color: #0c1222; padding: 20px; border-radius: 8px;
    border: 1px solid var(--border-color); text-align: center;
  }
  .graph-container svg { max-width: 100%; height: auto; }
  
  .intro-box {
    background: var(--code-bg); padding: 24px; border-radius: 8px; border-left: 4px solid var(--brand-color);
    margin: 24px 0;
  }
  .nav-quick {
    display: flex; gap: 10px; flex-wrap: wrap; list-style: none; padding: 0; margin-bottom: 32px;
  }
  .nav-quick a {
    text-decoration: none; color: var(--muted-color); padding: 8px 12px;
    border: 1px solid var(--border-color); border-radius: 8px;
    transition: all 0.2s;
  }
  .nav-quick a:hover {
    color: var(--heading-color); border-color: var(--brand-color);
    background-color: rgba(129, 140, 250, 0.1);
  }
  .call-to-action {
    text-align: center; background: var(--code-bg); padding: 24px;
    border-radius: 8px; border: 1px dashed var(--border-color);
  }
</style>
</head>
<body>

<div class="container">
  <header class="article-header">
    <h1>Prometheus å››å¤§æŒ‡æ ‡ç±»å‹å…¨è§£æ</h1>
    <p>Prometheus çš„ Exporter è¾“å‡ºçš„æ•°æ®éµå¾ªå…¶ç‹¬ç‰¹çš„æŒ‡æ ‡æ ¼å¼è§„èŒƒã€‚è¦çœŸæ­£æŒæ¡ Prometheusï¼Œç†è§£å…¶å››ç§æ ¸å¿ƒæŒ‡æ ‡ç±»å‹â€”â€”**Counter, Gauge, Histogram, å’Œ Summary**â€”â€”æ˜¯å¿…ä¸å¯å°‘çš„ç¬¬ä¸€æ­¥ã€‚æœ¬æ–‡å°†è¯¦ç»†æ‹†è§£å®ƒä»¬çš„ç‰¹ç‚¹å’Œé€‚ç”¨åœºæ™¯ã€‚</p>
    <nav>
      <ul class="nav-quick">
        <li><a href="#counter">ğŸ§® Counter</a></li>
        <li><a href="#gauge">ğŸ“ˆ Gauge</a></li>
        <li><a href="#histogram">ğŸ“Š Histogram</a></li>
        <li><a href="#summary">ğŸ“‰ Summary</a></li>
        <li><a href="#comparison">âš–ï¸ å¯¹æ¯”ä¸æ€»ç»“</a></li>
      </ul>
    </nav>
  </header>

  <section id="counter">
    <h2><span class="material-icons-outlined" style="color:var(--counter-color)">add_circle_outline</span>1. Counter (è®¡æ•°å™¨)</h2>
    <p><strong>ä¸€å¥è¯å®šä¹‰ï¼š</strong>ä¸€ä¸ªåªå¢ä¸å‡çš„ç´¯åŠ å™¨ï¼Œå¦‚åŒæ±½è½¦çš„æ€»é‡Œç¨‹è¡¨ã€‚</p>
    <h4>ç‰¹ç‚¹</h4>
    <ul>
      <li>æ•°å€¼**å•è°ƒé€’å¢**ï¼Œé™¤éç³»ç»Ÿé‡å¯æˆ–æŒ‡æ ‡è¢«é‡ç½®ã€‚</li>
      <li>éå¸¸é€‚åˆç”¨æ¥ç»Ÿè®¡ç´¯è®¡å‘ç”Ÿçš„äº‹ä»¶æ¬¡æ•°ã€‚</li>
      <li>å¸¸ä¸ <code>rate()</code> æˆ– <code>irate()</code> å‡½æ•°ç»“åˆä½¿ç”¨ï¼Œè®¡ç®—äº‹ä»¶å‘ç”Ÿçš„é€Ÿç‡ã€‚</li>
    </ul>
    <h4>å¸¸è§ç”¨é€”</h4>
    <ul>
      <li>HTTP è¯·æ±‚æ€»æ•° (<code>http_requests_total</code>)</li>
      <li>è®°å½•çš„é”™è¯¯æ€»æ•° (<code>errors_total</code>)</li>
      <li>å·²å®Œæˆçš„åå°ä½œä¸šæ•° (<code>jobs_completed_total</code>)</li>
    </ul>
    <h4>ç¤ºä¾‹</h4>
    <div class="code-wrapper"><pre><code class="language-bash"># HELP http_requests_total Total number of HTTP requests
# TYPE http_requests_total counter
http_requests_total{method="post",code="200"} 1027
http_requests_total{method="post",code="400"} 3</code></pre></div>
    <p style="color:var(--muted-color); font-size:14px;"><strong>æ³¨æ„ï¼š</strong> ä¸è¦ç”¨ Counter æ¥è®°å½•å¯å¢å¯å‡çš„æ•°å€¼ï¼Œæ¯”å¦‚å½“å‰æ¸©åº¦æˆ–å†…å­˜ä½¿ç”¨é‡ã€‚</p>
  </section>

  <section id="gauge">
    <h2><span class="material-icons-outlined" style="color:var(--gauge-color)">speed</span>2. Gauge (ä»ªè¡¨ç›˜)</h2>
    <p><strong>ä¸€å¥è¯å®šä¹‰ï¼š</strong>ä¸€ä¸ªå¯ä»¥ä»»æ„ä¸Šä¸‹æ³¢åŠ¨çš„ç¬æ—¶å€¼ï¼Œå¦‚åŒæ±½è½¦çš„é€Ÿåº¦è¡¨ã€‚</p>
    <h4>ç‰¹ç‚¹</h4>
    <ul>
      <li>æ•°å€¼å¯ä»¥**ä¸Šå‡æˆ–ä¸‹é™**ï¼Œåæ˜ çš„æ˜¯æŸä¸ªæ—¶é—´ç‚¹çš„â€œå¿«ç…§â€çŠ¶æ€ã€‚</li>
      <li>è¡¨ç¤ºä¸€ä¸ªå³æ—¶çš„ã€å¯å˜çš„æµ‹é‡å€¼ã€‚</li>
    </ul>
    <h4>å¸¸è§ç”¨é€”</h4>
    <ul>
      <li>å½“å‰å†…å­˜ä½¿ç”¨é‡ (<code>memory_usage_bytes</code>)</li>
      <li>æ´»è·ƒçš„æ•°æ®åº“è¿æ¥æ•° (<code>active_connections</code>)</li>
            <li>é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡æ•°é‡ (<code>jobs_in_queue</code>)</li>
      <li>CPU æ¸©åº¦ã€ç£ç›˜ç©ºé—´ç­‰ç¬æ—¶çŠ¶æ€å€¼ã€‚</li>
    </ul>
    <h4>ç¤ºä¾‹</h4>
    <div class="code-wrapper"><pre><code class="language-bash"># HELP temperature_celsius Current temperature in Celsius
# TYPE temperature_celsius gauge
temperature_celsius{location="server-room"} 23.7</code></pre></div>
  </section>
  
  <section id="histogram">
    <h2><span class="material-icons-outlined" style="color:var(--histogram-color)">bar_chart</span>3. Histogram (ç›´æ–¹å›¾)</h2>
    <p><strong>ä¸€å¥è¯å®šä¹‰ï¼š</strong>å¯¹ä¸€æ®µæ—¶é—´å†…çš„è§‚æµ‹å€¼ï¼ˆå¦‚å»¶è¿Ÿï¼‰è¿›è¡Œé‡‡æ ·ï¼Œå¹¶å°†å…¶åˆ†å¸ƒåˆ°é¢„è®¾çš„æ¡¶ï¼ˆbucketsï¼‰ä¸­è¿›è¡Œç»Ÿè®¡ã€‚</p>
    <h4>ç‰¹ç‚¹</h4>
    <ul>
      <li>ç”¨äºè®°å½•ä¸€ç³»åˆ—**è§‚æµ‹å€¼**çš„åˆ†å¸ƒæƒ…å†µã€‚</li>
      <li>éœ€è¦é¢„å…ˆå®šä¹‰å¥½è®¡æ•°çš„åŒºé—´ï¼ˆbucketsï¼‰ã€‚</li>
      <li>Exporter ä¼šè‡ªåŠ¨ç”Ÿæˆä¸‰ä¸ªç›¸å…³çš„æŒ‡æ ‡ï¼š
        <ul>
            <li><code>_bucket{le="<upper_bound>"}</code>ï¼šå°äºç­‰äºè¯¥ä¸Šè¾¹ç•Œçš„æ ·æœ¬æ•°ï¼ˆç´¯åŠ å€¼ï¼‰ã€‚</li>
            <li><code>_sum</code>ï¼šæ‰€æœ‰æ ·æœ¬å€¼çš„æ€»å’Œã€‚</li>
            <li><code>_count</code>ï¼šæ ·æœ¬çš„æ€»æ•°é‡ã€‚</li>
        </ul>
      </li>
      <li>**å¯èšåˆæ€§**ï¼šå¤šä¸ª Histogram å¯ä»¥è¢«èšåˆï¼Œéå¸¸é€‚åˆåœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ç»Ÿè®¡æ•´ä½“çš„å»¶è¿Ÿåˆ†å¸ƒã€‚</li>
    </ul>
    <h4>å¸¸è§ç”¨é€”</h4>
    <ul>
      <li>API è¯·æ±‚å»¶è¿Ÿï¼ˆlatencyï¼‰åˆ†å¸ƒã€‚</li>
      <li>HTTP å“åº”å¤§å°åˆ†å¸ƒã€‚</li>
      <li>å‡½æ•°æ‰§è¡Œæ—¶é—´åˆ†å¸ƒã€‚</li>
    </ul>
    <h4>ç¤ºä¾‹</h4>
    <div class="code-wrapper"><pre><code class="language-bash"># HELP http_request_duration_seconds HTTP request latency distribution
# TYPE http_request_duration_seconds histogram
http_request_duration_seconds_bucket{le="0.1"} 300
http_request_duration_seconds_bucket{le="0.5"} 450
http_request_duration_seconds_bucket{le="1"}   490
http_request_duration_seconds_bucket{le="+Inf"} 500
http_request_duration_seconds_sum 123.4
http_request_duration_seconds_count 500</code></pre></div>
    <p style="color:var(--muted-color); font-size:14px;"><strong>è§£è¯»ï¼š</strong> ä¸Šè¿°ç¤ºä¾‹è¡¨ç¤ºï¼Œå…±æœ‰500æ¬¡è¯·æ±‚ã€‚å…¶ä¸­ï¼Œå»¶è¿Ÿâ‰¤0.1sçš„æœ‰300æ¬¡ï¼Œâ‰¤0.5sçš„æœ‰450æ¬¡ã€‚æ€»å»¶è¿Ÿä¸º123.4ç§’ã€‚</p>
  </section>

  <section id="summary">
    <h2><span class="material-icons-outlined" style="color:var(--summary-color)">stacked_line_chart</span>4. Summary (æ‘˜è¦)</h2>
    <p><strong>ä¸€å¥è¯å®šä¹‰ï¼š</strong>ä¸ Histogram ç±»ä¼¼ï¼Œä½†å®ƒç›´æ¥åœ¨å®¢æˆ·ç«¯è®¡ç®—å¹¶æš´éœ²**åˆ†ä½æ•°**ï¼ˆQuantilesï¼‰ï¼Œè€Œä¸æ˜¯æ¡¶ã€‚</p>
    <h4>ç‰¹ç‚¹</h4>
    <ul>
      <li>åŒæ ·ç”¨äºè®°å½•ä¸€ç³»åˆ—è§‚æµ‹å€¼çš„åˆ†å¸ƒã€‚</li>
      <li>å®ƒä¸æä¾›æ¡¶ï¼Œè€Œæ˜¯ç›´æ¥è®¡ç®—å¹¶æä¾›é…ç½®å¥½çš„**åˆ†ä½æ•°**ï¼ˆå¦‚ Ï†-quantiles: 0.5, 0.9, 0.99ï¼‰ã€‚</li>
      <li>Exporter åŒæ ·ä¼šç”Ÿæˆ <code>_sum</code> å’Œ <code>_count</code> æŒ‡æ ‡ã€‚</li>
      <li>**ä¸å¯èšåˆæ€§**ï¼šç”±äºåˆ†ä½æ•°æ— æ³•è¢«æœ‰æ„ä¹‰åœ°èšåˆï¼ˆä½ ä¸èƒ½å¯¹å¤šä¸ªèŠ‚ç‚¹çš„ p99 å»¶è¿Ÿæ±‚å¹³å‡å€¼å¾—åˆ°æ•´ä½“çš„ p99 å»¶è¿Ÿï¼‰ï¼ŒSummary ä¸é€‚åˆåˆ†å¸ƒå¼ç³»ç»Ÿçš„èšåˆåˆ†æã€‚</li>
    </ul>
    <h4>å¸¸è§ç”¨é€”</h4>
    <ul>
      <li>éœ€è¦ç²¾ç¡®äº†è§£å•ä¸ªå®ä¾‹çš„å»¶è¿Ÿåˆ†å¸ƒï¼ˆp50, p90, p99ï¼‰ã€‚</li>
      <li>å¯¹èšåˆéœ€æ±‚ä¸é«˜çš„åœºæ™¯ï¼Œæˆ–è€…å½“é¢„è®¾ Histogram çš„æ¡¶ä¸æ–¹ä¾¿æ—¶ã€‚</li>
    </ul>
    <h4>ç¤ºä¾‹</h4>
    <div class="code-wrapper"><pre><code class="language-bash"># HELP http_request_duration_seconds HTTP request latency summary
# TYPE http_request_duration_seconds summary
http_request_duration_seconds{quantile="0.5"} 0.25
http_request_duration_seconds{quantile="0.9"} 0.42
http_request_duration_seconds{quantile="0.99"} 0.78
http_request_duration_seconds_sum 123.4
http_request_duration_seconds_count 500</code></pre></div>
    <p style="color:var(--muted-color); font-size:14px;"><strong>è§£è¯»ï¼š</strong> 50%çš„è¯·æ±‚å»¶è¿Ÿåœ¨0.25ç§’ä»¥ä¸‹ï¼Œ90%çš„è¯·æ±‚åœ¨0.42ç§’ä»¥ä¸‹ã€‚</p>
  </section>

  <section id="comparison">
    <h2><span class="material-icons-outlined">balance</span>âš–ï¸ Histogram vs. Summary å¯¹æ¯”ä¸æ€»ç»“</h2>
    <p>ä¸¤è€…éƒ½ç”¨äºæµ‹é‡å»¶è¿Ÿç­‰åˆ†å¸ƒæ€§æŒ‡æ ‡ï¼Œä½†æ ¸å¿ƒåŒºåˆ«åœ¨äº**è®¡ç®—å’Œèšåˆçš„æ–¹å¼**ã€‚</p>
    
    <h4>ä¸€å¥è¯æ€»ç»“</h4>
    <ul>
      <li>æƒ³åœ¨**æœåŠ¡ç«¯èšåˆ**å¤šä¸ªå®ä¾‹çš„æ•°æ®å¹¶è®¡ç®—åˆ†ä½æ•°ï¼Ÿç”¨ **Histogram**ã€‚</li>
      <li>åªæƒ³çœ‹**å•ä¸ªå®ä¾‹**çš„ç²¾ç¡®åˆ†ä½æ•°ï¼Œä¸”ä¸éœ€è¦èšåˆï¼Ÿç”¨ **Summary**ã€‚</li>
    </ul>

    <table>
      <thead>
        <tr>
          <th>ç‰¹æ€§</th>
          <th>ğŸ“Š Histogram</th>
          <th>ğŸ“‰ Summary</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>æ ¸å¿ƒæœºåˆ¶</td>
          <td>åŸºäºæ¡¶ï¼ˆBucketsï¼‰çš„è®¡æ•°</td>
          <td>åŸºäºå®¢æˆ·ç«¯è®¡ç®—çš„åˆ†ä½æ•°</td>
        </tr>
        <tr>
          <td>æœåŠ¡ç«¯èšåˆ</td>
          <td style="color:var(--success-color)">âœ… **å¯èšåˆ**</td>
          <td style="color:var(--danger-color)">âŒ **ä¸å¯èšåˆ**</td>
        </tr>
        <tr>
          <td>åˆ†ä½æ•°è®¡ç®—</td>
          <td>éœ€åœ¨ Prometheus æœåŠ¡ç«¯é€šè¿‡ <code>histogram_quantile()</code> å‡½æ•°ä¼°ç®—</td>
          <td>âœ… åœ¨å®¢æˆ·ç«¯ç›´æ¥è®¡ç®—å¹¶æš´éœ²</td>
        </tr>
        <tr>
          <td>èµ„æºå¼€é”€</td>
          <td>æœåŠ¡ç«¯è®¡ç®—å¼€é”€è¾ƒé«˜</td>
          <td>å®¢æˆ·ç«¯è®¡ç®—å¼€é”€è¾ƒé«˜</td>
        </tr>
        <tr>
          <td>å…¸å‹ç”¨é€”</td>
          <td>åˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„ SLA/SLO ç›‘æ§ã€æ•´ä½“å»¶è¿Ÿåˆ†æ</td>
          <td>å•ä¸ªèŠ‚ç‚¹çš„æ€§èƒ½è°ƒä¼˜ã€é»‘ç›’ç›‘æ§</td>
        </tr>
      </tbody>
    </table>

    <h3>å¯è§†åŒ–å¯¹æ¯”</h3>
    <div class="graph-container">
        <div id="graph-metrics"></div>
    </div>
  </section>

</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
<script>
document.addEventListener('DOMContentLoaded', () => {
    document.querySelectorAll('pre').forEach(pre => {
        const wrapper = document.createElement('div');
        wrapper.className = 'code-wrapper';
        if (pre.parentNode.tagName !== 'DIV' || !pre.parentNode.classList.contains('code-wrapper')) {
            pre.parentNode.insertBefore(wrapper, pre);
            wrapper.appendChild(pre);
        }
        const button = document.createElement('button');
        button.className = 'copy-button';
        button.textContent = 'å¤åˆ¶';
        wrapper.appendChild(button);
        button.addEventListener('click', () => {
            const code = pre.querySelector('code').innerText;
            navigator.clipboard.writeText(code).then(() => {
                button.textContent = 'å·²å¤åˆ¶!';
                setTimeout(() => { button.textContent = 'å¤åˆ¶'; }, 2000);
            });
        });
    });

    const graphContainer = document.getElementById('graph-metrics');
    if (graphContainer) {
      const dotString = `
      digraph PrometheusMetrics {
          graph [rankdir="TB", bgcolor="transparent", fontname="Inter, sans-serif", pad="0.5"];
          node [shape=box, style="filled,rounded", fontname="Inter, sans-serif", margin="0.3,0.2", color="#D1D5DB", fontcolor="#F9FAFB", fillcolor="#1e293b"];
          edge [color="#9CA3AF", fontname="Inter, sans-serif", fontsize=11];

          subgraph cluster_types {
              label="å››å¤§æŒ‡æ ‡ç±»å‹";
              style="filled";
              bgcolor="#111827";
              node[style="filled,rounded"];
              
              Counter [label="Counter\n(åªå¢ä¸å‡)", fillcolor="#10B98120", color="#34D399"];
              Gauge [label="Gauge\n(å¯å¢å¯å‡)", fillcolor="#FBBF2420", color="#FBBF24"];
              Histogram [label="Histogram\n(æœåŠ¡ç«¯å¯èšåˆçš„æ¡¶)", fillcolor="#60A5FA20", color="#60A5FA"];
              Summary [label="Summary\n(å®¢æˆ·ç«¯è®¡ç®—çš„åˆ†ä½æ•°)", fillcolor="#F472B620", color="#F472B6"];
          }
          
          subgraph cluster_functions {
              label="å¸¸ç”¨å‡½æ•°ä¸å…³ç³»";
              style="invis";
              rate [label="rate() / irate()", shape=ellipse, style=filled, fillcolor="#374151"];
              quantile [label="histogram_quantile()", shape=ellipse, style=filled, fillcolor="#374151"];
          }
          
          Counter -> rate [label="è®¡ç®—é€Ÿç‡"];
          Histogram -> quantile [label="è®¡ç®—åˆ†ä½æ•°"];
          
          {rank=same; Counter; Gauge;}
          {rank=same; Histogram; Summary;}
          
          edge[style=dashed, arrowhead=none, color="#818CF8"];
          Histogram -> Summary [label="  æµ‹é‡ç›®æ ‡ç±»ä¼¼\n(å»¶è¿Ÿ/å¤§å°åˆ†å¸ƒ)"];
      }
      `;
      const checkViz = setInterval(() => {
          if (typeof Viz !== 'undefined') {
              clearInterval(checkViz);
              try {
                const viz = new Viz({ worker: undefined });
                viz.renderSVGElement(dotString).then(element => {
                    graphContainer.innerHTML = '';
                    graphContainer.appendChild(element);
                }).catch(error => { throw error });
              } catch (e) {
                  graphContainer.innerHTML = `<p style="color:var(--danger-color);">Error rendering graph.</p>`;
                  console.error(e);
              }
          }
      }, 100);
    }
});
</script>
</body>
</html>